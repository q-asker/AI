ox_quiz_format = {
    """    
    ### 0. 형식
    - 문제
    - 1개의 "O (참)" 선택지
    - 1개의 "X (거짓)" 선택지
    - 문제 유형: 단일 참·거짓형 (True/False)
    ---
"""
}

ox_guidelines = """

    ### 1. 문제 구조 및 내용 요건 
    * **난이도**: DOK Level 2~3 - 개념 적용·분석(Skills), 대학 수준의 판단형 문제
    - 단순 개념 암기(DOK 1)가 아닌, 개념 적용, 인과관계, 조건부 추론, 미묘한 차이를 평가해야 합니다. 즉, 학습자가 "왜 참인지, 왜 거짓인지"를 논리적으로 검증할 수 있어야 합니다.
    - AI는 내부적으로 [전제 → 추론 → 결론]의 Reasoning Chain을 생성하되, 학습자가 스스로 추론 과정을 검증하도록 유도해야 합니다.

    **Reasoning Chain 예시:**
    - 전제: “HTTP는 상태 비저장(stateless) 프로토콜이다.”
    - 추론: “따라서 서버는 클라이언트의 이전 요청 상태를 보존하지 않는다.”
    - 결론(참): “쿠키나 세션은 이 한계를 보완하기 위한 상태 관리 수단이다.”

    ---

    ### 2. OX 문제 생성 절차 (복잡성 및 50:50 확률 적용)

    [생성 절차]
    * 0단계: 문제의 주제(Topic)와 해결 대상(Target Audience)을 정의하라.  
      (예: 주제: JavaScript 비동기 처리(Promise), 대상: 1-2년 차 프론트엔드 개발자)

    * 1단계: [올바른 Reasoning Chain]과 [매력적인 오답 Reasoning Chain]을 생성하라.  
      - (정답 Chain) [전제 → 올바른 추론 과정 → ‘참(True)’ 결론]  
      - (오답 Chain) [전제 → 미묘한 오류가 포함된 추론 → ‘거짓(False)’ 결론]  
      오답 Chain은 **일반적 오해·맥락 무시·과잉 일반화**를 반영해야 한다.

    * 2단계: ‘참(O)’ 또는 ‘거짓(X)’이 정답인 문제 지문을 50% 확률로 생성하라.  
      (A) **‘거짓(X)’ 정답 (50%)**: 오답 Chain의 거짓 결론을 지문으로 사용  
      (B) **‘참(O)’ 정답 (50%)**: 정답 Chain의 참 결론을 지문으로 사용하되,  
           ‘너무 명백한 사실’을 피하고, 오답 Chain과 유사한 맥락을 활용한다.

    * 3단계: 지문 품질 및 문장 구조 검토  
      - **정확성:** 참/거짓이 명확히 판별되는가?  
      - **미묘함:** 전문 지식이 있어야 구분 가능한가?  
      - **함정 요소:**  
        - (X일 경우) 오개념을 공략했는가?  
        - (O일 경우) 오답 Chain과의 혼동을 유도했는가?  
      - **복잡성 확보:**  
        지문은 단순 사실문이 아닌 조건·인과·비교 구조를 포함해야 한다.  
        예:  
        - “A인 상황에서는 B가 C를 보장한다.”  
        - “D를 E보다 우선적으로 처리할 경우 F가 발생한다.”  
        - “HTTP 요청은 항상 직렬적으로 처리되지만, 이벤트 루프 구조에서 setTimeout 콜백은 비동기적으로 실행된다.”  
        - “경제학에서 한계효용 체감의 법칙은 ‘모든 재화’에 적용되지만, 기호재(嗜好財)에서는 일시적 예외가 발생할 수 있다.”

    * 4단계: 최종 문제 및 해설 생성  
      - (문제): 완성된 지문  
      - (선택지): O (참), X (거짓)  
      - (정답): 2단계 결과에 따라 결정  
      - (해설):  
        - **X인 경우:** 왜 거짓인지 [정답 Chain]과 [오답 Chain]을 비교해 설명  
          예: “이 지문은 비동기 처리가 항상 병렬 실행된다고 진술했지만,  
          실제로는 이벤트 루프 순서에 따라 직렬적으로 처리되므로 거짓입니다.”  
        - **O인 경우:** 왜 참인지 명확히 설명하고, 오답 Chain과의 혼동 지점을 지적  
          예: “이 지문이 거짓처럼 느껴질 수 있는 이유는 ‘await’와 ‘Promise.all’을 혼동하기 쉽기 때문입니다.  
          하지만 여기서는 단일 await 호출이므로 올바른 비동기 순서 제어가 보장되어 참입니다.”

    ---

    ### 3. 문제 생성 핵심 원칙
    - 단순 사실이 아닌, 개념 적용·관계·조건·상황에 따라 결과가 달라지는 케이스를 평가하라.
    - 참/거짓 판별은 **이유(why)**와 **맥락(context)** 기반이어야 한다.
    - 학습자가 “언제는 맞고, 언제는 틀린가”를 사고하게 만들어야 한다.

    **예시 세트:**
    1. **자연과학형**
       - "물은 1기압(해수면)에서 100°C에 끓지만, 해발고도가 높을수록 낮은 온도에서 끓기 시작한다." → O  
    2. **의학·생물형**
       - "항생제는 바이러스의 복제를 직접 억제하여 독감 치료에 효과적이다." → X  
    3. **프로그래밍형**
       - "JavaScript의 async 함수는 항상 병렬로 실행된다." → X  
    4. **사회과학형**
       - "GDP 증가가 반드시 국민의 실질 생활수준 향상을 의미한다." → X  

    ---

    ### 4. 품질 검토 체크리스트
   아래 체크리스트를 기준으로 최종 산출물을 스스로 검토하고 수정하라.
    - [ ] **난이도:** DOK 2~3 수준의 개념 적용·분석 문제인가?  
    - [ ] **함정 요소:** (O) 혼동 유발 / (X) 오개념 반영을 충실히 구현했는가?  
    - [ ] **문장 구조:** 조건, 인과, 비교 등 복잡성 원칙을 충족하는가?  
    - [ ] **Reasoning Chain:** 참/거짓의 근거가 논리적으로 일관되는가?  
    - [ ] **해설 품질:** 단순 진술이 아닌, 정답·오답 Chain의 논리 대비를 포함했는가?  

    """
