blank_quiz_format = """
    ### 0. 형식
    - 문제(지문)
    - 1개의 정답 선택지
    - 3개의 오답 선택지
    - 문제 유형: 빈칸 채우기 (Fill-in-the-Blank)
    - 모든 선택지의 외형(길이, 구조)은 'blank_quiz_guidelines'의 4, 5, 8번 일관성 원칙을 따름
"""

blank_quiz_guidelines = {
    "RECALL": """
    ### 1. 문제 생성 목적
    - **난이도**: DOK Level 1 — 기억·재생산(Recall), 기본 개념 확인형 문제
    - 학습자의 **기억(Recall)** 능력을 평가한다
    - 개념·정의·용어·명칭 등 단일 지식을 정확히 재생산할 수 있는지를 확인한다.
    - 계산, 논리 추론, 응용 판단은 포함하지 않는다.
    - 문제의 초점은 “이 용어를 정확히 알고 있는가?”에 있다.
    
    ---
    
    ### 2. 문항 구성 원칙
    
    **필수 조건**
    - 정답은 하나의 단일 개념(단어, 용어, 메서드명, 명칭 등)이어야 한다.
    - 문장 내 핵심 개념을 `_______`로 표시하며, **빈칸은 반드시 한 곳만 존재**해야 한다.
    - 문장은 문법적으로 완전해야 하며, 빈칸을 넣어도 자연스러워야 한다.
    
    **금지 사항**
    - 빈칸이 2개 이상인 문장.
    - 논리 추론, 코드 작성, 계산 등 사고 단계를 요구하는 문항.
    - 문법적으로 부자연스럽거나 어색한 표현.
    
    ---
    
    ### 3. 문제 예시
    
    - "_______ 는 객체지향 프로그래밍의 핵심 특징 중 하나이다."
    - "리액트에서 상태 관리를 위해 사용하는 Hook은 _______이다."
    - "데이터베이스의 _______ 는 테이블 간의 관계를 정의한다."
    - "자바스크립트에서 _______ 는 비동기 처리를 위한 객체이다."
    - "HTTP 요청에서 _______ 메서드는 데이터를 서버에 제출할 때 사용된다."
    
    ---
    
    ### 4. 선택지 구성 및 품질 기준
    
    - 총 4개의 선택지를 제시하며, **정답은 1개**만 존재해야 한다.
    - **번호(1, 2, 3, 4)는 명시하지 않는다.** - 모든 선택지는 **동일한 품사·형태(예: 모두 명사형 또는 모두 함수명)** 를 유지해야 한다.
    - **길이 일관성:** 정답과 오답의 길이는 ±20% 이내로 유지한다.
      (예: 정답이 6자라면 오답은 5~7자 범위)
    
    **오답 유형**
    1. **유사 개념형:** 실제 개념이지만 문맥상 맞지 않음
       예) “클로저” 대신 “콜백 함수”
    2. **부분 정의형:** 개념의 일부 속성만 포함
       예) “상속” 대신 “캡슐화”
    3. **무관 개념형:** 실제 개념이지만 주제와 무관
       예) “SQL JOIN” 대신 “HTTP Request”
    
    ---
    
    ### 5. 선택지 생성 절차
    
    **1단계:** 정답(핵심 개념)을 명확히 정의하라.
    - 빈칸이 가리키는 개념이 교재·문헌 기준으로 어떤 의미인지 명확히 한다.
    
    **2단계:** 오답 3개를 선정하라.
    - 정답과 혼동되기 쉬운 개념을 중심으로 고른다.
    - 각 오답은 유사도·맥락 혼동도를 고려해 “그럴듯하지만 틀린” 형태로 구성한다.
    
    **3단계:** 선택지 순서를 무작위로 섞되, 정답 위치를 드러내지 말라.
    - “정답은 항상 첫 번째에 둔다” 등의 패턴이 생기지 않도록 한다.
    
    **4단계:** 길이·품사·형태 검토
    - 모든 선택지가 비슷한 형태와 길이를 유지하는지 확인한다.
    - 정답만 눈에 띄거나, 지나치게 짧은 경우 수정한다.
    
    ---
    
    ### 6. 해설 작성 규칙
    
    - **정답 근거:** 교재나 표준 정의에 기반해 정답 개념을 간결히 설명한다.
    - **오답 비교:** 각 오답이 왜 부적절한지 1문장씩 설명한다.
    - **길이 제한:** 해설은 최대 3문장 이내로 작성하라.
    - **서술 원칙:** 단정적 어조(“~이다”)로 끝내며, 추상적 의견은 금지한다.
    
    **예시**
    - 정답: “프로토타입”
    - 해설: “프로토타M은 자바스크립트의 객체 상속 메커니즘이다.
      클래스나 생성자 함수는 유사 개념이지만 상속 구조를 직접 정의하지 않는다.
      따라서 상속 연결을 담당하는 프로토타입이 정답이다.”
    
    ---
    
    ### 7. 최종 산출 형식
    - (문제): `_______` 포함 지문
    - (선택지): 4개 (1 정답 + 3 오답, 번호 미표기)
    - (정답): 단일 개념
    - (해설): 정의 중심 + 오답 비교 3문장 이내
    
    ---
    
    ### 8. 품질 검토 체크리스트
    - [ ] 빈칸이 정확히 1개인가?
    - [ ] 문장이 문법적으로 자연스러운가?
    - [ ] 정답이 유일하고 명확한가?
    - [ ] 오답이 모두 학습자에게 그럴듯한가?
    - [ ] 선택지의 품사·길이·형태가 일관되는가?
    - [ ] 정답이 시각적으로 눈에 띄지 않는가?
    - [ ] 해설이 정의 기반이며 3문장 이내인가?"""
}
